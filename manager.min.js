function clearPassword(){hideElement(passwordCard),password.textContent="",setPasswordButton()}function generatePassword(){hidePasswordToggle(),showElement(passwordCard),error.textContent=password.textContent="",setPasswordButton(),fullName=givenName.value.trim()+familyName.value.trim(),""===fullName||0===passPhrase.value.trim().length||"answer"===passwordType&&0===securityQuestion.value.trim().length||("answer"!==passwordType||0!==securityQuestion.value.trim().length)&&(passOff.userName="",passOff.securityQuestion="",passOff.fullName=fullName,passOff.passPhrase=passPhrase.value,passOff.domainName=domainName.value.trim(),userName.value.trim().length>0&&(passOff.userName=userName.value.trim()),"answer"===passwordType&&securityQuestion.value.trim().length>0&&(passOff.securityQuestion=securityQuestion.value.trim()),passwordType&&passOff.generatePassword(passwordType).then(function(e){password.textContent=e,passwordSel.value=e,hideElement(loaderPassword),supportsCopy&&(showElement(copyPasswordDiv),password.scrollIntoView(),window.setTimeout(function(){copyPasswordToClipboard()},500))})["catch"](function(e){error.textContent=e.message}))}function setPasswordButton(){var e=domainName.value.replace("https://","").replace("http://","").trim().toLowerCase();("w"===e||"ww"===e||"www"===e)&&(e=""),(givenName.value.trim().length>0||familyName.value.trim().length>0)&&e.length>0&&("answer"!==passwordType||securityQuestion.value.trim().length>0)?generatePasswordButton.disabled=!1:generatePasswordButton.disabled=!0,hideElement(copyPasswordDiv)}function showElement(e){e.classList.remove("hidden")}function hideElement(e){e.classList.add("hidden")}function copyPasswordToClipboard(){if("unknown"===supportsCopy&&(supportsCopy=document.queryCommandSupported("copy")),supportsCopy){passwordSel.focus(),passwordSel.select();try{document.execCommand("Copy",!1,null),showToast(copiedToast,copyPasswordDiv)}catch(e){console.log("Copy command failed")}copyPassword.focus()}}function chooseType(){setType(this.id)}function setType(e){switch(copyPassword.textContent="Copy Password",copiedToast.textContext="Password copied to Clipboard",showElement(userNameDiv),hideElement(securityQuestionDiv),passwordType=e,e){case"login":generatePasswordButton.textContent="Generate User name",copyPassword.textContent="Copy User name",copiedToast.textContent="User name copied to Clipboard",hideElement(userNameDiv);break;case"maximum-password":generatePasswordButton.textContent="Generate Maximum Password";break;case"long-password":generatePasswordButton.textContent="Generate Long Password";break;case"medium-password":generatePasswordButton.textContent="Generate Medium Password";break;case"basic-password":generatePasswordButton.textContent="Generate Basic Password";break;case"short-password":generatePasswordButton.textContent="Generate Short Password";break;case"pin":generatePasswordButton.textContent="Generate Four Digit PIN",copyPassword.textContent="Copy PIN",copiedToast.textContext="PIN copied to Clipboard";break;case"pin-6":generatePasswordButton.textContent="Generate Six Digit PIN",copyPassword.textContent="Copy PIN",copiedToast.textContent="PIN copied to Clipboard";break;case"answer":generatePasswordButton.textContent="Generate Security Answer",copyPassword.textContent="Copy Security Answer",copiedToast.textContent="Answer copied to Clipboard",showElement(securityQuestionDiv)}clearPassword()}function showPasswordToggle(){showElement(passwordToggle)}function hidePasswordToggle(){hideElement(passwordToggle),passPhrase.type="password"}function togglePasswordView(){"password"===passPhrase.type?passPhrase.type="text-area":passPhrase.type="password",passPhrase.focus()}function runTests(){window.open("test/passoff-test.html")}function showToast(e,s){hideElement(s),showElement(e),e.scrollIntoView(),window.setTimeout(function(){hideToast(e,s)},5200)}function hideToast(e,s){showElement(s),hideElement(e)}var givenName,familyName,passPhrase,domainName,securityQuestion,securityQuestionDiv,userName,userNameDiv,type,resultType,generatePasswordButton,password,passwordCard,copyPasswordDiv,loaderPassword,closePassword,copyPassword,passwordSel,passwordToggle,headerKey,copiedToast,passOff,passwordType,fullName,supportsCopy,error,id=0;window.addEventListener("load",function(){passOff=new PassOff,headerKey=document.querySelector("[id=header-key]"),givenName=document.querySelector("[id=given-name]"),familyName=document.querySelector("[id=family-name]"),passPhrase=document.querySelector("[id=passphrase]"),passwordToggle=document.querySelector("[id=show-password]"),generatePasswordButton=document.querySelector("[id=generate-password]"),domainName=document.querySelector("[id=domain]"),securityQuestion=document.querySelector("[id=security-question]"),securityQuestionDiv=document.querySelector("[id=security-question-div]"),userName=document.querySelector("[id=user-name]"),userNameDiv=document.querySelector("[id=user-name-div]"),type=document.querySelector("[id=type]"),passwordCard=document.querySelector("[id=password-card]"),password=document.querySelector(".password"),error=document.querySelector(".error"),passwordSel=document.querySelector("[id=password-select]"),copiedToast=document.querySelector("[id=copied-toast]"),copyPassword=document.querySelector("[id=copy-password]"),copyPasswordDiv=document.querySelector("[id=copy-password-div]"),loaderPassword=document.querySelector("[id=load-bar-ball]"),closePassword=document.querySelector("[id=close-password]"),givenName.disabled=familyName.disabled=passPhrase.disabled=domainName.disabled=userName.disabled=type.disabled=!1,givenName.addEventListener("input",clearPassword,!1),givenName.addEventListener("focus",hidePasswordToggle,!1),givenName.addEventListener("focusin",hidePasswordToggle,!1),familyName.addEventListener("input",clearPassword,!1),familyName.addEventListener("focus",hidePasswordToggle,!1),familyName.addEventListener("focusin",hidePasswordToggle,!1),passPhrase.addEventListener("input",clearPassword,!1),passPhrase.addEventListener("focus",showPasswordToggle,!1),passPhrase.addEventListener("focusin",showPasswordToggle,!1),securityQuestion.addEventListener("input",clearPassword,!1),securityQuestion.addEventListener("focus",hidePasswordToggle,!1),securityQuestion.addEventListener("focusin",hidePasswordToggle,!1),domainName.addEventListener("input",clearPassword,!1),domainName.addEventListener("focus",hidePasswordToggle,!1),domainName.addEventListener("focusin",hidePasswordToggle,!1),userName.addEventListener("input",clearPassword,!1),userName.addEventListener("focus",hidePasswordToggle,!1),userName.addEventListener("focusin",hidePasswordToggle,!1);for(var e=0;e<type.children.length;e++)type.children[e].addEventListener("click",chooseType,!1);supportsCopy="unknown",setType("long-password"),headerKey.addEventListener("click",runTests,!1),generatePasswordButton.addEventListener("click",generatePassword,!1),passwordToggle.addEventListener("click",togglePasswordView,!1),copyPassword.addEventListener("click",copyPasswordToClipboard,!1),closePassword.addEventListener("click",clearPassword,!1),givenName.focus()},!1);