{"version":3,"sources":["opensesame.min.js"],"names":["clearPassword","hideElement","passwordCard","password","textContent","setPasswordButton","trimDomainName","posDomain","domainName","value","replace","toLowerCase","trim","indexOf","substr","clearValues","passPhrase","passChangeRequiredCount","generatePassword","hidePasswordToggle","showElement","error","fullName","givenName","familyName","length","passwordType","securityQuestion","passOff","userName","then","passwordValue","loaderPassword","document","queryCommandSupported","copyPasswordDiv","scrollIntoView","window","setTimeout","copyPasswordToClipboard","setPassChangeRequired","err","message","thisPasswordTimeStamp","lastPassPhraseLength","lastPassGenTimeStamp","Date","now","changePassPhrase","showPasswordToggle","calculatedDomainName","generatePasswordButton","disabled","element","classList","remove","add","clipboardVal","select","queryCommandEnabled","execCommand","showToast","copiedToast","console","log","clearClipboard","chooseType","setType","this","id","passwordSelection","copyPasswordButton","textContext","passwordCardHeader","userNameDiv","securityQuestionDiv","passwordToggle","type","togglePasswordView","focus","runTests","open","toastElement","coveredElement","hideToast","PassOff","keyNS","passwordNS","loginNS","answerNS","templates","maximum-password","long-password","medium-password","basic-password","short-password","pin","pin-6","login","answer","passchars","V","C","v","c","A","a","n","o","x"," ","countryTLDs","prototype","PBKDF2","salt","Promise","resolve","reject","derivedKey","CryptoJS","iterations","keySize","HMACSHA256","plainText","key","seed","HmacSHA256","convertWordArrayToUint8Array","wordArray","word","i","len","words","u8_array","Uint8Array","offset","clearPassPhrase","passNS","performance","Error","passOffContext","domainElements","fullNameValue","userNameValue","domainCountryCode","domainValue","split","slice","join","securityQuestionValue","seedArray","templateType","template","map","chars","seedCounter","e","resultType","closePasswordButton","headerKey","addEventListener","applicationCache","status","UPDATEREADY","location","reload","querySelector","lCounter","children"],"mappings":"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","file":"opensesame.min.js","sourcesContent":["function clearPassword(){hideElement(passwordCard),password.textContent=\"00000000000000000000000000000000000000000000000000000000000000000000000000000\",password.textContent=\"\",setPasswordButton()}function trimDomainName(){var e=0;domainName.value=domainName.value.replace(/^https?:\\/\\//g,\"\").toLowerCase().trim(),e=domainName.value.indexOf(\"/\"),e>0&&(domainName.value=domainName.value.substr(0,e))}function clearValues(){passPhrase.value=\"00000000000000000000000000000000000000000000000000000000000000000000000000000\",passPhrase.value=\"\",passChangeRequiredCount=0,clearPassword()}function generatePassword(){hidePasswordToggle(),showElement(passwordCard),error.textContent=password.textContent=\"\",setPasswordButton(),fullName=givenName.value.trim()+familyName.value.trim(),\"\"===fullName||0===passPhrase.value.trim().length||\"answer\"===passwordType&&0===securityQuestion.value.trim().length||(\"answer\"!==passwordType||0!==securityQuestion.value.trim().length)&&(passOff.userName=\"\",passOff.securityQuestion=\"\",passOff.fullName=fullName,passOff.passPhrase=passPhrase.value,passOff.domainName=domainName.value.trim(),userName.value.trim().length>0&&(passOff.userName=userName.value.trim()),\"answer\"===passwordType&&securityQuestion.value.trim().length>0&&(passOff.securityQuestion=securityQuestion.value.trim()),passwordType&&passOff.generatePassword(passwordType).then(function(e){password.textContent=e,hideElement(loaderPassword),document.queryCommandSupported(\"copy\")&&(showElement(copyPasswordDiv),password.scrollIntoView(),window.setTimeout(function(){copyPasswordToClipboard()},200)),setPassChangeRequired()})[\"catch\"](function(e){error.textContent=e.message}))}function setPassChangeRequired(){var e;passChangeRequiredCount=2,lastPassPhraseLength=passPhrase.value.length,lastPassGenTimeStamp=Date.now(),e=lastPassGenTimeStamp,window.setTimeout(function(){e===lastPassGenTimeStamp&&clearValues()},18e5)}function changePassPhrase(){clearPassword(),lastPassPhraseLength>0&&passChangeRequiredCount>0&&passPhrase.value.length<=lastPassPhraseLength?passChangeRequiredCount-=1:(0===lastPassPhraseLength||0===passChangeRequiredCount)&&showPasswordToggle()}function setPasswordButton(){var e=domainName.value.replace(\"https://\",\"\").replace(\"http://\",\"\").replace(/^www[\\w-]*./g,\"\").trim().toLowerCase();(\"w\"===e||\"ww\"===e||\"www\"===e)&&(e=\"\"),(givenName.value.trim().length>0||familyName.value.trim().length>0)&&e.length>0&&(\"answer\"!==passwordType||securityQuestion.value.trim().length>0)?generatePasswordButton.disabled=!1:generatePasswordButton.disabled=!0,hideElement(copyPasswordDiv)}function showElement(e){e.classList.remove(\"hidden\")}function hideElement(e){e.classList.add(\"hidden\")}function copyPasswordToClipboard(){if(clipboardVal.value=password.textContent,clipboardVal.select(),document.queryCommandEnabled(\"copy\"))try{document.execCommand(\"copy\");showToast(copiedToast,copyPasswordDiv)}catch(e){console.log(\"Copy command failed\")}else console.log(\"Copy command not enabled\")}function clearClipboard(){if(clipboardVal.value=\"Value cleared\",clipboardVal.select(),document.queryCommandSupported(\"copy\"))try{document.execCommand(\"copy\")}catch(e){console.log(\"Copy command failed\")}else console.log(\"Copy command not enabled\")}function chooseType(){setType(this.id)}function setType(e){switch(copyPasswordButton.textContent=\"Copy Password\",copiedToast.textContext=\"Password copied to Clipboard\",passwordCardHeader.textContent=\"Password\",showElement(userNameDiv),hideElement(securityQuestionDiv),passwordType=e,e){case\"login\":generatePasswordButton.textContent=\"Generate User name\",copyPasswordButton.textContent=\"Copy User name\",copiedToast.textContent=\"User name copied to Clipboard\",passwordCardHeader.textContent=\"User name\",hideElement(userNameDiv);break;case\"maximum-password\":generatePasswordButton.textContent=\"Generate Maximum Password\";break;case\"long-password\":generatePasswordButton.textContent=\"Generate Long Password\";break;case\"medium-password\":generatePasswordButton.textContent=\"Generate Medium Password\";break;case\"basic-password\":generatePasswordButton.textContent=\"Generate Basic Password\";break;case\"short-password\":generatePasswordButton.textContent=\"Generate Short Password\";break;case\"pin\":generatePasswordButton.textContent=\"Generate Four Digit PIN\",copyPasswordButton.textContent=\"Copy PIN\",copiedToast.textContext=\"PIN copied to Clipboard\",passwordCardHeader.textContent=\"PIN\";break;case\"pin-6\":generatePasswordButton.textContent=\"Generate Six Digit PIN\",copyPasswordButton.textContent=\"Copy PIN\",copiedToast.textContent=\"PIN copied to Clipboard\",passwordCardHeader.textContent=\"PIN\";break;case\"answer\":generatePasswordButton.textContent=\"Generate Security Answer\",copyPasswordButton.textContent=\"Copy Security Answer\",copiedToast.textContent=\"Answer copied to Clipboard\",passwordCardHeader.textContent=\"Answer\",showElement(securityQuestionDiv)}clearPassword()}function showPasswordToggle(){0===passChangeRequiredCount&&showElement(passwordToggle)}function hidePasswordToggle(){hideElement(passwordToggle),passPhrase.type=\"password\"}function togglePasswordView(){\"password\"===passPhrase.type?passPhrase.type=\"text-area\":passPhrase.type=\"password\",passPhrase.focus()}function runTests(){window.open(\"test/opensesame-test.html\")}function showToast(e,s){hideElement(s),showElement(e),e.scrollIntoView(),window.setTimeout(function(){hideToast(e,s)},5200)}function hideToast(e,s){showElement(s),hideElement(e)}var PassOff=function(){\"use strict\";this.keyNS=\"cake.man.passoff\",this.passwordNS=\"cake.man.passoff.password\",this.loginNS=\"cake.man.passoff.login\",this.answerNS=\"cake.man.passoff.answer\",this.fullName=\"\",this.passPhrase=\"\",this.domainName=\"\",this.userName=\"\",this.securityQuestion=\"\",this.templates={\"maximum-password\":[\"anoxxxxxxxxxxxxxxxxx\",\"axxxxxxxxxxxxxxxxxno\"],\"long-password\":[\"CvcvnoCvcvCvcv\",\"CvcvCvcvnoCvcv\",\"CvcvCvcvCvcvno\",\"CvccnoCvcvCvcv\",\"CvccCvcvnoCvcv\",\"CvccCvcvCvcvno\",\"CvcvnoCvccCvcv\",\"CvcvCvccnoCvcv\",\"CvcvCvccCvcvno\",\"CvcvnoCvcvCvcc\",\"CvcvCvcvnoCvcc\",\"CvcvCvcvCvccno\",\"CvccnoCvccCvcv\",\"CvccCvccnoCvcv\",\"CvccCvccCvcvno\",\"CvcvnoCvccCvcc\",\"CvcvCvccnoCvcc\",\"CvcvCvccCvccno\",\"CvccnoCvcvCvcc\",\"CvccCvcvnoCvcc\",\"CvccCvcvCvccno\"],\"medium-password\":[\"CvcnoCvc\",\"CvcCvcno\"],\"basic-password\":[\"aaanaaan\",\"aannaaan\",\"aaannaaa\"],\"short-password\":[\"Cvcn\"],pin:[\"nnnn\"],\"pin-6\":[\"nnnnnn\"],login:[\"cvccvcvcv\"],answer:[\"cvcc cvc cvccvcv cvc\",\"cvc cvccvcvcv cvcv\",\"cv cvccv cvc cvcvccv\"]},this.passchars={V:\"AEIOU\",C:\"BCDFGHJKLMNPQRSTVWXYZ\",v:\"aeiou\",c:\"bcdfghjklmnpqrstvwxyz\",A:\"AEIOUBCDFGHJKLMNPQRSTVWXYZ\",a:\"AEIOUaeiouBCDFGHJKLMNPQRSTVWXYZbcdfghjklmnpqrstvwxyz\",n:\"0123456789\",o:\"@&%?,=[]_:-+*$#!'^~;()/.\",x:\"AEIOUaeiouBCDFGHJKLMNPQRSTVWXYZbcdfghjklmnpqrstvwxyz0123456789!@#$%^&*()\",\" \":\" \"},this.countryTLDs=[\"ac\",\"ad\",\"ae\",\"af\",\"ag\",\"ai\",\"al\",\"am\",\"an\",\"ao\",\"aq\",\"ar\",\"as\",\"at\",\"au\",\"aw\",\"ax\",\"az\",\"ba\",\"bb\",\"bd\",\"be\",\"bf\",\"bg\",\"bh\",\"bi\",\"bj\",\"bm\",\"bn\",\"bo\",\"br\",\"bs\",\"bt\",\"bv\",\"bw\",\"by\",\"bz\",\"ca\",\"cc\",\"cd\",\"cf\",\"cg\",\"ch\",\"ci\",\"ck\",\"cl\",\"cm\",\"cn\",\"co\",\"cr\",\"cs\",\"cu\",\"cv\",\"cw\",\"cx\",\"cy\",\"cz\",\"dd\",\"de\",\"dj\",\"dk\",\"dm\",\"do\",\"dz\",\"ec\",\"ee\",\"eg\",\"eh\",\"er\",\"es\",\"et\",\"eu\",\"fi\",\"fj\",\"fk\",\"fm\",\"fo\",\"fr\",\"ga\",\"gb\",\"gd\",\"ge\",\"gf\",\"gg\",\"gh\",\"gi\",\"gl\",\"gm\",\"gn\",\"gp\",\"gq\",\"gr\",\"gs\",\"gt\",\"gu\",\"gw\",\"gy\",\"hk\",\"hm\",\"hn\",\"hr\",\"ht\",\"hu\",\"id\",\"ie\",\"il\",\"im\",\"in\",\"iq\",\"ir\",\"is\",\"it\",\"je\",\"jm\",\"jo\",\"jp\",\"ke\",\"kg\",\"kh\",\"ki\",\"km\",\"kn\",\"kp\",\"kr\",\"kw\",\"ky\",\"kz\",\"la\",\"lb\",\"lc\",\"li\",\"lk\",\"lr\",\"ls\",\"lt\",\"lu\",\"lv\",\"ly\",\"ma\",\"mc\",\"md\",\"me\",\"mg\",\"mh\",\"mk\",\"ml\",\"mm\",\"mn\",\"mo\",\"mp\",\"mq\",\"mr\",\"ms\",\"mt\",\"mu\",\"mv\",\"mw\",\"mx\",\"my\",\"mz\",\"na\",\"nc\",\"ne\",\"nf\",\"ng\",\"ni\",\"nl\",\"no\",\"np\",\"nr\",\"nu\",\"nz\",\"om\",\"pa\",\"pe\",\"pf\",\"pg\",\"ph\",\"pk\",\"pl\",\"pm\",\"pn\",\"pr\",\"ps\",\"pt\",\"pw\",\"py\",\"qa\",\"re\",\"ro\",\"rs\",\"ru\",\"rw\",\"sa\",\"sb\",\"sc\",\"sd\",\"se\",\"sg\",\"sh\",\"si\",\"sj\",\"sk\",\"sl\",\"sm\",\"sn\",\"so\",\"sr\",\"ss\",\"st\",\"su\",\"sv\",\"sx\",\"sy\",\"sz\",\"tc\",\"td\",\"tf\",\"tg\",\"th\",\"tj\",\"tk\",\"tl\",\"tm\",\"tn\",\"to\",\"tp\",\"tr\",\"tt\",\"tv\",\"tw\",\"tz\",\"ua\",\"ug\",\"uk\",\"us\",\"uy\",\"uz\",\"va\",\"vc\",\"ve\",\"vg\",\"vi\",\"vn\",\"vu\",\"wf\",\"ws\",\"ye\",\"yt\",\"yu\",\"za\",\"zm\",\"zw\"]};PassOff.prototype.PBKDF2=function(e,s){\"use strict\";return new Promise(function(a,t){var o=CryptoJS.PBKDF2(e,s,{iterations:750,keySize:4});a(o)})},PassOff.prototype.HMACSHA256=function(e,s){\"use strict\";return new Promise(function(a,t){var o=CryptoJS.HmacSHA256(e,s);a(o)})},PassOff.prototype.convertWordArrayToUint8Array=function(e){\"use strict\";var s,a,t=e.words.length,o=new Uint8Array(t<<2),n=0;for(a=0;t>a;a++)s=e.words[a],o[n++]=s>>24,o[n++]=s>>16&255,o[n++]=s>>8&255,o[n++]=255&s;return o},PassOff.prototype.clearPassPhrase=function(e){\"use strict\";this.passPhrase=\"00000000000000000000000000000000000000000000000000000000000000000000000000000\",this.passPhrase=\"\"},PassOff.prototype.generatePassword=function(e){\"use strict\";var s;performance.now();if(0===this.fullName.length)return Promise.reject(new Error(\"Name not present\"));if(0===this.passPhrase.length)return Promise.reject(new Error(\"Passphrase not present\"));if(0===this.domainName.length)return Promise.reject(new Error(\"Domain name not present\"));if(\"answer\"===e&&0===this.securityQuestion.length)return Promise.reject(new Error(\"Security question not present\"));try{var a=this;return new Promise(function(t,o){s=a.passwordNS,\"answer\"===e?s=a.answerNS:\"login\"==e&&(s=a.loginNS);var n,r=a.fullName.trim().toLowerCase(),c=s+\".\"+r,i=a.userName.trim().toLowerCase(),d=0,u=\"\",l=a.domainName.replace(/^https?:\\/\\//g,\"\").toLowerCase();d=l.indexOf(\"/\"),d>0&&(l=l.substr(0,d)),n=l.split(\".\"),n.length>1&&a.countryTLDs.indexOf(n[n.length-1])>=0&&(u=\".\"+n[n.length-1],n=n.slice(0,-1)),n.length>2&&(n=n.slice(-2)),l=n.join(\".\")+u;var m=\"\";return i&&i.length>0&&(l=i+\"@\"+l),\"answer\"===e&&(m=a.securityQuestion.replace(/[.,-\\/#!$%\\^&\\*;:{}=\\-_`~()?'\"]/g,\"\").replace(/  +/g,\" \").trim().toLowerCase(),l=l+\":\"+m),a.PBKDF2(a.passPhrase,c).then(function(e){return a.HMACSHA256(l,e)}).then(function(e){var s=a.convertWordArrayToUint8Array(e);return s}).then(function(s){for(var o=a.templates[e],n=o[s[0]%o.length],r=n.split(\"\").map(function(e,t){var o=a.passchars[e];return o[s[t+1]%o.length]}).join(\"\"),c=0;c<s.length;c++)s[c]=0;a.clearPassPhrase(),t(r)})[\"catch\"](function(e){return Promise.reject(e)})})}catch(t){return Promise.reject(t)}};var givenName,familyName,passPhrase,domainName,securityQuestion,securityQuestionDiv,userName,userNameDiv,type,resultType,generatePasswordButton,password,passwordCard,passwordCardHeader,copyPasswordDiv,loaderPassword,closePasswordButton,copyPasswordButton,clipboardVal,passwordToggle,headerKey,copiedToast,lastPassGenTimeStamp,passOff,passwordType,fullName,error,passChangeRequiredCount,lastPassPhraseLength;window.addEventListener(\"load\",function(){window.applicationCache.addEventListener(\"updateready\",function(e){window.applicationCache.status==window.applicationCache.UPDATEREADY&&window.location.reload()},!1),passOff=new PassOff,headerKey=document.querySelector(\"[id=header-key]\"),givenName=document.querySelector(\"[id=given-name]\"),familyName=document.querySelector(\"[id=family-name]\"),passPhrase=document.querySelector(\"[id=passphrase]\"),passwordToggle=document.querySelector(\"[id=show-password]\"),generatePasswordButton=document.querySelector(\"[id=generate-password]\"),domainName=document.querySelector(\"[id=domain]\"),securityQuestion=document.querySelector(\"[id=security-question]\"),securityQuestionDiv=document.querySelector(\"[id=security-question-div]\"),userName=document.querySelector(\"[id=user-name]\"),userNameDiv=document.querySelector(\"[id=user-name-div]\"),type=document.querySelector(\"[id=type]\"),passwordCard=document.querySelector(\"[id=password-card]\"),passwordCardHeader=document.querySelector(\"[id=password-card-header]\"),password=document.querySelector(\".password\"),clipboardVal=document.querySelector(\"[id=clipboard-value]\"),error=document.querySelector(\".error\"),copiedToast=document.querySelector(\"[id=copied-toast]\"),copyPasswordButton=document.querySelector(\"[id=copy-password]\"),copyPasswordDiv=document.querySelector(\"[id=copy-password-div]\"),loaderPassword=document.querySelector(\"[id=load-bar-ball]\"),closePasswordButton=document.querySelector(\"[id=close-password]\"),givenName.disabled=familyName.disabled=passPhrase.disabled=domainName.disabled=userName.disabled=type.disabled=!1,givenName.addEventListener(\"input\",clearPassword,!1),givenName.addEventListener(\"focus\",hidePasswordToggle,!1),givenName.addEventListener(\"focusin\",hidePasswordToggle,!1),familyName.addEventListener(\"input\",clearPassword,!1),familyName.addEventListener(\"focus\",hidePasswordToggle,!1),familyName.addEventListener(\"focusin\",hidePasswordToggle,!1),passPhrase.addEventListener(\"input\",changePassPhrase,!1),passPhrase.addEventListener(\"focus\",showPasswordToggle,!1),passPhrase.addEventListener(\"focusin\",showPasswordToggle,!1),securityQuestion.addEventListener(\"input\",clearPassword,!1),securityQuestion.addEventListener(\"focus\",hidePasswordToggle,!1),securityQuestion.addEventListener(\"focusin\",hidePasswordToggle,!1),domainName.addEventListener(\"input\",clearPassword,!1),domainName.addEventListener(\"focus\",hidePasswordToggle,!1),domainName.addEventListener(\"focusin\",hidePasswordToggle,!1),domainName.addEventListener(\"focusout\",trimDomainName,!1),domainName.addEventListener(\"blur\",trimDomainName,!1),userName.addEventListener(\"input\",clearPassword,!1),userName.addEventListener(\"focus\",hidePasswordToggle,!1),userName.addEventListener(\"focusin\",hidePasswordToggle,!1);for(var e=0;e<type.children.length;e++)type.children[e].addEventListener(\"click\",chooseType,!1);passChangeRequiredCount=0,lastPassPhraseLength=0,setType(\"long-password\"),headerKey.addEventListener(\"click\",runTests,!1),generatePasswordButton.addEventListener(\"click\",generatePassword,!1),passwordToggle.addEventListener(\"click\",togglePasswordView,!1),copyPasswordButton.addEventListener(\"click\",copyPasswordToClipboard,!1),closePasswordButton.addEventListener(\"click\",clearPassword,!1),givenName.focus()},!1);\n//# sourceMappingURL=opensesame.min.js.map"],"sourceRoot":"/source/"}